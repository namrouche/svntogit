<!-- ESUP: 
replace nxl:documentLayout by nxl:layout name="heading" and nxl:layout name="file"
based on document_edit.xhtml from nuxeo-platform-webapp 
-->
<div xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxl="http://nuxeo.org/nxforms/layout">

<h:form enctype="multipart/form-data" id="document_edit">

  <c:if test="#{!empty documentActions.changeableDocumentType.layout}">
    <ui:include src="/incl/document_editor.xhtml" />
  </c:if>
  <c:if test="#{empty documentActions.changeableDocumentType.layout}">
    <nxl:layout name="heading" mode="edit" value="#{changeableDocument}" />
    <nxl:layout name="file" mode="edit" value="#{changeableDocument}" />
  </c:if>

  <table class="dataInput">
    <tbody>
      <tr>
        <td class="labelColumn">
          <h:outputText value="#{messages['label.comment']}" />
        </td>
        <td class="fieldColumn">
          <h:inputTextarea value="#{changeableDocument.contextData['request/comment']}" />
        </td>
      </tr>
    </tbody> 
  </table>

  <p class="buttonsGadget">
    <h:commandButton type="submit" value="#{messages['command.save']}"
      styleClass="button"
      action="#{documentActions.updateDocument}" />
  </p>

</h:form>
</div>
