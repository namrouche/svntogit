<?xml version="1.0"?>

<component name="org.esup.ecm.theme.nuxeo.default">

  <require>org.nuxeo.theme.jsf</require>

  <!--  themes -->
  <extension target="org.nuxeo.theme.services.ThemeService" point="themes">

    <theme>
      <src>themes/theme-esup.xml</src>
    </theme>

  </extension>

 <!-- views -->
  <extension target="org.nuxeo.theme.services.ThemeService" point="views">

    <view name="Esup logo">
      <format-type>widget</format-type>
      <class>org.nuxeo.theme.jsf.views.JSFView</class>
      <template>incl/logo-esup.xhtml</template>
    </view>

    <view name="Esup footer">
      <format-type>widget</format-type>
      <class>org.nuxeo.theme.jsf.views.JSFView</class>
      <template>incl/footer-esup.xhtml</template>
    </view>



  </extension>


<!-- Styles presets -->
<extension target="org.nuxeo.theme.services.ThemeService" point="presets">

  <palette name="Esup backgrounds"
           src="themes/palettes/esupbackgrounds.properties"
           category="background" />

</extension>




  <!-- application settings -->
  <extension target="org.nuxeo.theme.services.ThemeService"
    point="applications">

    <application root="/nuxeo">

      <negotiation>
        <strategy>nuxeo5</strategy>
        <default-engine>default</default-engine>
        <default-theme>esup/default</default-theme>
        <default-perspective>default</default-perspective>
      </negotiation>

      <!-- Cache control for theme resources (/nxthemes-lib/) -->
      <resource-caching>
        <lifetime>36000</lifetime>
      </resource-caching>

      <!-- Cache control for theme styles (/nxthemes-css/) -->
      <style-caching>
        <lifetime>900</lifetime>
      </style-caching>

      <view id="/create_relation_search_document_popup.xhtml">
        <theme>esup/popup</theme>
      </view>
      <view id="/user_dashboard.xhtml">
        <theme>esup/user_dashboard</theme>
      </view>
      <view id="/view_calendar.xhtml">
        <perspective>view_calendar</perspective>
      </view>
      <view id="/print.xhtml">
        <perspective>print</perspective>
      </view>
      <view id="/editor_link_search_document.xhtml">
        <theme>esup/popup</theme>
      </view>
      <view id="/editor_image_upload.xhtml">
        <theme>esup/popup</theme>
      </view>
    </application>
  </extension>

</component>
